<div class="mb-4">
    <a href="<?= $baseUrl ?>/rewards" class="text-muted text-decoration-none">
        <i class="bi bi-arrow-left me-1"></i><?= $lang->t('back') ?? 'Back' ?>
    </a>
</div>

<h2 class="mb-4"><?= $lang->t('edit_reward') ?></h2>

<div class="card" style="max-width: 600px;">
    <div class="card-body">
        <form method="POST" action="<?= $baseUrl ?>/rewards/<?= $reward['id'] ?>/update">
            <input type="hidden" name="_csrf" value="<?= $csrfToken ?>">

            <div class="mb-4">
                <label class="form-label"><?= $lang->t('reward_name') ?> (<?= $lang->t('english') ?>) *</label>
                <input type="text" name="name" class="form-control" value="<?= htmlspecialchars($reward['name']) ?>" required>
            </div>

            <div class="mb-4">
                <label class="form-label"><?= $lang->t('reward_name') ?> (<?= $lang->t('georgian') ?>)</label>
                <input type="text" name="name_ka" class="form-control" value="<?= htmlspecialchars($reward['name_ka'] ?? '') ?>">
            </div>

            <div class="mb-4">
                <label class="form-label"><?= $lang->t('description') ?> (<?= $lang->t('english') ?>)</label>
                <textarea name="description" class="form-control" rows="2"><?= htmlspecialchars($reward['description'] ?? '') ?></textarea>
            </div>

            <div class="mb-4">
                <label class="form-label"><?= $lang->t('description') ?> (<?= $lang->t('georgian') ?>)</label>
                <textarea name="description_ka" class="form-control" rows="2"><?= htmlspecialchars($reward['description_ka'] ?? '') ?></textarea>
            </div>

            <div class="mb-4">
                <label class="form-label"><?= $lang->t('point_cost') ?> *</label>
                <input type="number" name="point_cost" class="form-control" value="<?= $reward['point_cost'] ?>" required min="1">
            </div>

            <div class="mb-4">
                <label class="form-label"><?= $lang->t('money_value') ?></label>
                <input type="number" name="money_value" class="form-control" step="0.01" value="<?= $reward['money_value'] ?? '' ?>">
            </div>

            <div class="mb-4">
                <label class="form-label"><?= $lang->t('icon') ?></label>
                <div class="d-flex align-items-center gap-3">
                    <span class="d-inline-flex align-items-center justify-content-center rounded-circle"
                          style="width: 48px; height: 48px; background: var(--mint-light);">
                        <i class="bi <?= htmlspecialchars($reward['icon']) ?>" style="font-size: 1.5rem; color: var(--mint);"></i>
                    </span>
                    <input type="text" name="icon" class="form-control" value="<?= htmlspecialchars($reward['icon']) ?>">
                </div>
            </div>

            <div class="mb-4 form-check">
                <input type="checkbox" name="is_active" class="form-check-input" value="1" id="isActive" <?= $reward['is_active'] ? 'checked' : '' ?>>
                <label class="form-check-label" for="isActive"><?= $lang->t('active') ?></label>
            </div>

            <div class="d-flex gap-2">
                <button type="submit" class="btn btn-primary">
                    <i class="bi bi-check-lg me-1"></i><?= $lang->t('save') ?>
                </button>
                <a href="<?= $baseUrl ?>/rewards" class="btn btn-outline-secondary">
                    <?= $lang->t('cancel') ?>
                </a>
            </div>
        </form>
    </div>
</div>
